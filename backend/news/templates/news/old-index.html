{% extends "base.html" %}

{% block content %}
{% if ranked_news_list %}
<div class="container-fluid bg-secondary py-3 d-none d-sm-block">
    {% for article in ranked_news_list %}
    <div class="mx-3 mb-3 bg-warning row" style="min-height: 150px;">
        <!-- <div class="row no-gutters w-100 h-100 position-absolute"> -->
            <!-- was gonna remove img here -->
            <div class="col-sm-5 col-md-3 col-lg-2 d-flex d-sm-flex h-25">
                <img src="{{ article.picture.url }}" alt="..." class="w-100">
            </div>
            <div class="col-sm-7 col-md-9 col-lg-10 px-2 py-0 py-lg-2 h-100">
                <div class="card-body p-0 d-flex flex-column justify-content-between h-100">
                    <div>
                        <h4 class="card-title"><a href="{{ article.url }}" target="_blank">{{ article.title }}</a>
                        </h4>
                    </div>
                    <div class="row">
                        <div class="col-md-auto mr-auto">
                            <p class="card-text"><strong>{{ article.author }}</strong></p>
                        </div>
                        <div class="col-md-auto">
                            <div class="mx-0 my-md-0 my-sm-2" style="height: 65px;">
                                {% for sentiment in article.sentiments.all %}
                                <img src="{{ sentiment.picture.url }}" class="w-auto h-100">
                                <img src="{{ sentiment.picture.url }}" class="w-auto h-100">
                                <img src="{{ sentiment.picture.url }}" class="w-auto h-100">
                                <img src="{{ sentiment.picture.url }}" class="w-auto h-100">
                                {% empty %}
                                NO SENTIMENTS!!!
                                {% endfor %}
                            </div>
                        </div>
                    </div>
                    <div>
                        <p class="card-text"><small class="text-muted text-uppercase">{{ article.created_at }}</small>
                        </p>
                    </div>
                </div>
            </div>
        <!-- </div> -->
    </div>
    <!-- </div> -->
    {% endfor %}
</div>
<div class="container-fluid d-block d-sm-none p-0 py-3">
    {% for article in ranked_news_list %}
    <ul class="list-unstyled vw-100">
        <li class="media mw-100 px-2">
            <div class="row">
                <div class="col">
                    <img class="mr-3 w-25" src="{{ article.picture.url }}" alt="Generic placeholder image">
                    <table class="table table-borderless table-dark w-25">
                        <tbody class="w-100">
                            <tr>
                                <td class="w-25"><img src="sentimentTag.sentiment.picture.url" class="w-25">
                                </td>
                                <td class="text-white">sentimentTag.magnitude</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="col">

                    <div class="media-body">
                        <h5 class="mt-0 mb-1"><a href="{{ article.url }}">{{ article.title }}</a></h5>

                    </div>
                </div>
            </div>

        </li>
    </ul>
    {% endfor %}
</div>
{% else %}
<p>No articles available.</p>
{% endif %}
{% endblock %}