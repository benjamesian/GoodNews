{% extends "base.html" %}

{% block content %}
{% if ranked_news_list %}
<div class="container-fluid py-3">
    {% for article in ranked_news_list %}
    <div class="row p-0 p-sm-2 mx-3 mb-3 bg-warning">
        <div class="col-sm-5 col-md-3 col-lg-2 px-0 d-flex d-sm-flex align-self-center justify-content-center">
            <div style="max-height: 150px; overflow: hidden;">
                <img class="d-sm-none card-img-top" src="{{ article.picture.url }}" alt="Card image cap">
                <img class="d-none d-sm-inline mh-100 mw-100" src="{{ article.picture.url }}" alt="...">
            </div>
        </div>
        <div class="col-sm-7 col-md-9 col-lg-10 px-2 py-2 py-sm-0 py-lg-2">
            <div class="card-body p-0 d-flex flex-column h-100">
                <h4 class="card-title m-0"><a class="twoLineEllipse" href="{{ article.url }}"
                        target="_blank">{{ article.title }}</a>
                </h4>
                <div class="row flex-fill">
                    <div class="col-md-auto mr-auto w-auto">
                        <p class="card-text"><strong>{{ article.author }}</strong></p>
                    </div>
                    <div class="col-md-auto pr-sm-0 pr-md-2 w-auto">
                        <div class="mx-0 my-md-0 my-sm-2" style="height: 65px; overflow: hidden;">
                            {% for sentiment in article.sentiments.all %}
                            <img src="{{ sentiment.picture.url }}" class="w-auto h-100">
                            {% empty %}
                            NO SENTIMENTS!!!
                            {% endfor %}
                        </div>
                    </div>
                </div>
                <div>
                    <p class="card-text"><small class="text-muted text-uppercase">{{ article.created_at }}</small>
                    </p>
                </div>
            </div>
        </div>
    </div>
    {% endfor %}
</div>
{% else %}
<p>No articles available.</p>
{% endif %}
{% endblock %}